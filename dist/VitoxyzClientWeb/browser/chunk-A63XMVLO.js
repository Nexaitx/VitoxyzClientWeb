import{F as C,J as O,N as P,ca as k}from"./chunk-MFYBXPGH.js";import{c as x}from"./chunk-DHDG4QUY.js";import{p as M}from"./chunk-QI76QBAE.js";import{Mb as n,Nb as o,Ob as g,_b as c,cb as d,e as s,hb as p,ob as b,oc as l,pc as u,tc as h,uc as _,vc as f}from"./chunk-VVX2ZSCF.js";var y=class m{constructor(i){this.router=i}searchQuery="";currentLocation="";ngOnInit(){this.detectLocation()}onSearch(){if(!this.searchQuery.trim()){alert("Please enter a search query");return}this.router.navigate(["/search"],{queryParams:{q:this.searchQuery}})}onQuickOrder(){this.router.navigate(["/order-prescription"])}detectLocation(){return s(this,null,function*(){if(!navigator.geolocation){this.currentLocation="Geolocation not supported";return}this.currentLocation="Detecting...",navigator.geolocation.getCurrentPosition(i=>s(this,null,function*(){let a=i.coords.latitude,e=i.coords.longitude;try{let t=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?lat=${a}&lon=${e}&format=json`)).json();t.address?this.currentLocation=t.address.city||t.address.town||t.address.village||t.address.state||"Your Location":this.currentLocation="Unknown Location"}catch(r){console.error("Error fetching location:",r),this.currentLocation="Unable to fetch location"}}),i=>{console.error("Geolocation error:",i),this.currentLocation="Location permission denied"})})}static \u0275fac=function(a){return new(a||m)(p(x))};static \u0275cmp=b({type:m,selectors:[["app-header"]],decls:21,vars:2,consts:[[1,"search-bar","d-flex","align-items-center","justify-content-between","py-2",2,"margin-top","-68px","margin-bottom","68px"],[1,"location","d-flex","align-items-center","px-3"],[1,"bi","bi-geo-alt-fill","text-primary","me-2"],["title","Use current location",1,"bi","bi-crosshair","ms-2","text-muted",2,"cursor","pointer",3,"click"],[1,"search-box","flex-grow-1","position-relative"],["type","text","placeholder","Search for Medicines and Health Products","aria-label","Search field",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"bi","bi-search","position-absolute","end-0","top-50","translate-middle-y","me-3",2,"cursor","pointer",3,"click"],[1,"quick-box","d-flex","align-items-center"],["aria-label","Quick order",1,"btn","btn-danger","btn-quick","d-none","d-md-inline-flex","rounded-pill","ms-3","px-4",3,"click"],[1,"mobile-quick","d-flex","d-md-none","align-items-center"],[1,"mobile-quick-left","d-flex","align-items-center"],[1,"mobile-quick-icon","d-inline-flex","align-items-center","justify-content-center"],[1,"bi","bi-journal-medical"],[1,"mobile-quick-label","ms-2"],["aria-label","Order now",1,"btn","btn-order-now","ms-3","rounded-pill",3,"click"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1),g(2,"i",2),n(3,"span"),l(4),o(),n(5,"i",3),c("click",function(){return e.detectLocation()}),o()(),n(6,"div",4)(7,"input",5),f("ngModelChange",function(t){return _(e.searchQuery,t)||(e.searchQuery=t),t}),c("keyup.enter",function(){return e.onSearch()}),o(),n(8,"i",6),c("click",function(){return e.onSearch()}),o()(),n(9,"div",7)(10,"button",8),c("click",function(){return e.onQuickOrder()}),l(11," Quick order "),o(),n(12,"div",9)(13,"div",10)(14,"span",11),g(15,"i",12),o(),n(16,"div",13)(17,"div"),l(18,"Upload for quick order"),o()()(),n(19,"button",14),c("click",function(){return e.onQuickOrder()}),l(20," Order now "),o()()()()),a&2&&(d(4),u(e.currentLocation||"Detecting location..."),d(3),h("ngModel",e.searchQuery))},dependencies:[M,k,C,O,P],styles:[".search-bar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 4px 12px #00000014;border-radius:50px;margin-top:12px;padding:5px 15px;transition:all .3s ease;margin-bottom:50px}.search-bar[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{flex-shrink:0;padding:0 10px}.search-bar[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   i.bi[_ngcontent-%COMP%]{font-size:1.2rem;color:#0bbbc1}.search-bar[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .bi-crosshair[_ngcontent-%COMP%]{color:#999}.search-bar[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .bi-crosshair[_ngcontent-%COMP%]:hover{color:#0bbbc1}.search-bar[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .location-action[_ngcontent-%COMP%]{cursor:pointer}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:40px;font-size:1rem;padding-right:3rem}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#0bbbc1}.search-bar[_ngcontent-%COMP%]   .quick-box[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;gap:.5rem}.search-bar[_ngcontent-%COMP%]   .btn-quick[_ngcontent-%COMP%]{background-color:#0bbbc1;border:none;display:inline-flex;align-items:center;justify-content:center}.search-bar[_ngcontent-%COMP%]   .btn-quick[_ngcontent-%COMP%]:hover{background-color:#088c91;transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.search-bar[_ngcontent-%COMP%]   .mobile-quick[_ngcontent-%COMP%]{background:#efefef;border-radius:10px;padding:8px 10px;align-items:center;gap:.75rem;min-height:48px;box-shadow:none;width:auto;align-self:center}.search-bar[_ngcontent-%COMP%]   .mobile-quick[_ngcontent-%COMP%]   .mobile-quick-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.search-bar[_ngcontent-%COMP%]   .mobile-quick[_ngcontent-%COMP%]   .mobile-quick-icon[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:8px;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 2px 6px #0000000d}.search-bar[_ngcontent-%COMP%]   .mobile-quick[_ngcontent-%COMP%]   .mobile-quick-icon[_ngcontent-%COMP%]   i.bi[_ngcontent-%COMP%]{font-size:1.1rem;color:#0bbbc1}.search-bar[_ngcontent-%COMP%]   .mobile-quick[_ngcontent-%COMP%]   .mobile-quick-label[_ngcontent-%COMP%]{line-height:1;font-size:.95rem;color:#222}.search-bar[_ngcontent-%COMP%]   .mobile-quick[_ngcontent-%COMP%]   .btn-order-now[_ngcontent-%COMP%]{background:#0bbbc1;color:#fff;border:none;padding:6px 12px;font-size:.9rem;border-radius:20px;white-space:nowrap;align-self:center}.search-bar[_ngcontent-%COMP%]   .mobile-quick[_ngcontent-%COMP%]   .btn-order-now[_ngcontent-%COMP%]:hover{opacity:.92}.search-bar[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:#444!important}.search-bar[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]   i.bi-lightning-charge[_ngcontent-%COMP%]{color:#f44336!important}@media (max-width: 992px){.search-bar[_ngcontent-%COMP%]{border-radius:12px;padding:10px}.search-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{margin:0 5px}.d-md-inline[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 768px){.search-bar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch!important;gap:10px;padding:15px}}@media (max-width: 768px) and (max-width: 575.98px){.search-bar[_ngcontent-%COMP%]{margin-top:-40px;margin-bottom:40px}}@media (max-width: 768px){.btn-quick[_ngcontent-%COMP%]{display:none!important}.btn-danger[_ngcontent-%COMP%]{width:auto!important}.quick-box[_ngcontent-%COMP%]{width:100%;justify-content:center}.mobile-quick[_ngcontent-%COMP%]{max-width:360px;width:auto}}"]})};export{y as a};
