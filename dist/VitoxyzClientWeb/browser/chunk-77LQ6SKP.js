import{c as w,g as S}from"./chunk-DHDG4QUY.js";import{i as x,p as v}from"./chunk-QI76QBAE.js";import{$a as b,Lb as g,Mb as t,Nb as e,Ob as l,Vb as h,_b as a,ac as m,cb as p,hb as P,ma as _,mc as C,na as f,ob as O,oc as n,pc as M,tb as u}from"./chunk-VVX2ZSCF.js";function E(c,d){c&1&&(t(0,"div",44)(1,"div",45),l(2,"i",46),e(),t(3,"div",47),n(4," Uploaded prescriptions will be shown here "),e()())}function y(c,d){if(c&1&&(t(0,"div",54),l(1,"img",55),e()),c&2){let r=m(2);p(),g("src",r.attachedPreview,b)}}function I(c,d){if(c&1){let r=h();t(0,"div",48)(1,"div",49)(2,"div",50),n(3),e(),t(4,"div",51)(5,"button",52),a("click",function(){_(r);let o=m();return f(o.removeAttachment())}),n(6," Remove "),e()()(),u(7,y,2,1,"div",53),e()}if(c&2){let r=m();p(3),M(r.attachedFile.name),p(4),g("ngIf",r.attachedPreview)}}function F(c,d){if(c&1){let r=h();t(0,"div",56),a("click",function(){_(r);let o=m();return f(o.closeSheet())}),e()}}var k=class c{constructor(d){this.router=d}attachedFile=null;attachedPreview=null;showMobileSheet=!1;savedPrescriptions=[{id:1,name:"Prescription - 01.jpg"},{id:2,name:"Prescription - 02.pdf"}];onFileSelected(d){let i=d.target.files;if(!i||i.length===0)return;let o=i[0];if(this.attachedFile=o,o.type.startsWith("image/")){let s=new FileReader;s.onload=()=>{this.attachedPreview=s.result},s.readAsDataURL(o)}else this.attachedPreview=null;this.closeSheet()}triggerFileInput(){document.getElementById("mobileFileInput")?.click()}openSavedPrescriptions(){let d=this.savedPrescriptions[0];d&&(this.attachedFile=new File([],d.name),this.attachedPreview=null),this.closeSheet()}removeAttachment(){this.attachedFile=null,this.attachedPreview=null}onContinue(){if(!this.attachedFile){alert("Please attach a prescription to continue.");return}alert("Continue \u2014 upload logic goes here.")}goBack(){this.router.navigate(["/"])}openSheet(){this.showMobileSheet=!0}closeSheet(){this.showMobileSheet=!1}static \u0275fac=function(r){return new(r||c)(P(w))};static \u0275cmp=O({type:c,selectors:[["app-order-prescription"]],decls:87,vars:5,consts:[[1,"container"],[1,"row","gx-4"],[1,"col-lg-6","mb-4"],[1,"card","upload-card"],[1,"card-body"],[1,"title"],[1,"muted"],[1,"d-grid","gap-3","mt-3"],["for","fileInput",1,"action-btn","upload-new"],[1,"icon"],[1,"bi","bi-file-earmark-arrow-up"],[1,"text"],[1,"label"],[1,"sub"],["id","fileInput","type","file","hidden","",3,"change"],["type","button",1,"action-btn","saved-btn",3,"click"],[1,"bi","bi-folder2-open"],[1,"attached","mt-4"],[1,"attached-title"],["class","attached-placeholder",4,"ngIf"],["class","attached-preview",4,"ngIf"],[1,"d-flex","gap-2","mt-4"],[1,"btn","btn-outline-secondary","rounded-pill","btn-sm","px-3",3,"click"],[1,"btn","btn-primary","ms-auto","continue-btn","rounded-pill","btn-sm",3,"click"],[1,"card","guide-card"],[1,"guide-grid","d-flex","flex-column","flex-lg-row","gap-3","mt-3"],[1,"guide-art"],[1,"doc-sample"],[1,"doc-top"],[1,"doc-lines"],[1,"line"],[1,"doc-sign"],[1,"guide-list"],[1,"gov-note","mt-3"],["class","mobile-sheet-backdrop",3,"click",4,"ngIf"],[1,"mobile-sheet"],[1,"sheet-header"],[1,"close-btn",3,"click"],[1,"bi","bi-x-lg"],[1,"sheet-body"],[1,"sheet-action",3,"click"],[1,"bi","bi-camera"],[1,"bi","bi-image"],["id","mobileFileInput","type","file","accept","image/*,.pdf","hidden","",3,"change"],[1,"attached-placeholder"],[1,"placeholder-icon"],[1,"bi","bi-file-earmark-text"],[1,"placeholder-text","muted"],[1,"attached-preview"],[1,"preview-row","d-flex","align-items-center","justify-content-between"],[1,"preview-name"],[1,"preview-actions"],["aria-label","Remove",1,"btn","btn-link","p-0",3,"click"],["class","image-wrap mt-3",4,"ngIf"],[1,"image-wrap","mt-3"],["alt","Prescription preview",3,"src"],[1,"mobile-sheet-backdrop",3,"click"]],template:function(r,i){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),n(6,"Upload Prescription"),e(),t(7,"p",6),n(8,"Please attach a prescription to proceed"),e(),t(9,"div",7)(10,"label",8)(11,"div",9),l(12,"i",10),e(),t(13,"div",11)(14,"div",12),n(15,"UPLOAD NEW"),e(),t(16,"div",13),n(17,"Attach a photo or pdf of the prescription"),e()()(),t(18,"input",14),a("change",function(s){return i.onFileSelected(s)}),e(),t(19,"button",15),a("click",function(){return i.openSavedPrescriptions()}),t(20,"div",9),l(21,"i",16),e(),t(22,"div",11)(23,"div",12),n(24,"SAVED PRESCRIPTIONS"),e(),t(25,"div",13),n(26,"Choose from previously uploaded files"),e()()()(),t(27,"div",17)(28,"h6",18),n(29,"Attached Prescription"),e(),u(30,E,5,0,"div",19)(31,I,8,2,"div",20),e(),t(32,"div",21)(33,"button",22),a("click",function(){return i.goBack()}),n(34," Back "),e(),t(35,"button",23),a("click",function(){return i.onContinue()}),n(36," CONTINUE "),e()()()()(),t(37,"div",2)(38,"div",24)(39,"div",4)(40,"h4",5),n(41,"Guide for a valid prescription"),e(),t(42,"div",25)(43,"div",26)(44,"div",27)(45,"div",28),n(46,"Dr. Varun, MBBS, MD"),e(),t(47,"div",29)(48,"div",30),n(49," Name of Patient ___________ Age __ "),e(),t(50,"div",30),n(51," Medicine Name \u2022 Strength \u2022 Dose \u2022 Duration "),e()(),l(52,"div",31),e()(),t(53,"div",32)(54,"ul")(55,"li"),n(56,"Don't crop out any part of the image"),e(),t(57,"li"),n(58,"Avoid blurred image"),e(),t(59,"li"),n(60,"Include doctor & patient details + date"),e(),t(61,"li"),n(62,"Medicines dispensed as per prescription"),e(),t(63,"li"),n(64,"Supported files: jpeg, jpg, png, pdf"),e(),t(65,"li"),n(66,"Max file size: 5MB"),e()()()(),t(67,"p",33),n(68," Government regulations require a valid prescription "),e()()()()()(),u(69,F,1,0,"div",34),t(70,"div",35)(71,"div",36)(72,"h5"),n(73,"Upload prescriptions"),e(),t(74,"button",37),a("click",function(){return i.closeSheet()}),l(75,"i",38),e()(),t(76,"div",39)(77,"button",40),a("click",function(){return i.triggerFileInput()}),l(78,"i",41),n(79," Take a photo "),e(),t(80,"button",40),a("click",function(){return i.triggerFileInput()}),l(81,"i",42),n(82," Choose from gallery "),e(),t(83,"button",40),a("click",function(){return i.openSavedPrescriptions()}),l(84,"i",16),n(85," Your prescriptions "),e()()(),t(86,"input",43),a("change",function(s){return i.onFileSelected(s)}),e()),r&2&&(p(30),g("ngIf",!i.attachedFile),p(),g("ngIf",i.attachedFile),p(38),g("ngIf",i.showMobileSheet),p(),C("active",i.showMobileSheet))},dependencies:[v,x,S],styles:[".order-prescription[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #ececec;box-shadow:0 6px 18px #0f172a0a}.title[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:500}.muted[_ngcontent-%COMP%]{color:#6c757d;margin:0}.upload-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;padding:14px 16px;border-radius:8px;border:1px solid #f0f0f0;background:#fff;cursor:pointer;width:100%}.upload-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:44px;min-height:44px;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;font-size:1.25rem}.upload-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;font-size:.95rem}.upload-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{color:#8a8a8a;font-size:.85rem}.upload-card[_ngcontent-%COMP%]   .upload-new[_ngcontent-%COMP%]{border-color:#efe6e6}.upload-card[_ngcontent-%COMP%]   .upload-new[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#ef6b63;background:#fff6f6}.upload-card[_ngcontent-%COMP%]   .saved-btn[_ngcontent-%COMP%]{border-color:#efe6e6;background:#fafafa}.upload-card[_ngcontent-%COMP%]   .saved-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#d35400;background:#fff7f0}.upload-card[_ngcontent-%COMP%]   .attached[_ngcontent-%COMP%]   .attached-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.upload-card[_ngcontent-%COMP%]   .attached[_ngcontent-%COMP%]   .attached-placeholder[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:18px;border-radius:8px;background:#fbfbfb;border:1px dashed #eee}.upload-card[_ngcontent-%COMP%]   .attached[_ngcontent-%COMP%]   .attached-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{font-size:1.4rem;color:#bfc6c9}.upload-card[_ngcontent-%COMP%]   .attached[_ngcontent-%COMP%]   .attached-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{color:#9aa0a6}.upload-card[_ngcontent-%COMP%]   .attached[_ngcontent-%COMP%]   .attached-preview[_ngcontent-%COMP%]   .preview-row[_ngcontent-%COMP%]{font-weight:600}.upload-card[_ngcontent-%COMP%]   .attached[_ngcontent-%COMP%]   .attached-preview[_ngcontent-%COMP%]   .image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:260px;object-fit:contain;border-radius:6px;border:1px solid #f0f0f0}.upload-card[_ngcontent-%COMP%]   .continue-btn[_ngcontent-%COMP%]{background:#0bbbc1;border-color:#0bbbc1;color:#fff;padding:.55rem 1.25rem;border-radius:6px}.guide-card[_ngcontent-%COMP%]   .guide-grid[_ngcontent-%COMP%]{gap:16px}.guide-card[_ngcontent-%COMP%]   .guide-grid[_ngcontent-%COMP%]   .doc-sample[_ngcontent-%COMP%]{width:100%;max-width:320px;min-height:160px;border:1px solid #f2e8e8;border-radius:6px;padding:12px;background:linear-gradient(180deg,#fff,#fffaf8)}.guide-card[_ngcontent-%COMP%]   .guide-grid[_ngcontent-%COMP%]   .doc-sample[_ngcontent-%COMP%]   .doc-top[_ngcontent-%COMP%]{font-weight:500;margin-bottom:6px}.guide-card[_ngcontent-%COMP%]   .guide-grid[_ngcontent-%COMP%]   .doc-sample[_ngcontent-%COMP%]   .doc-lines[_ngcontent-%COMP%]{color:#7a7a7a;font-size:.9rem}.guide-card[_ngcontent-%COMP%]   .guide-grid[_ngcontent-%COMP%]   .guide-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:18px;margin:0}.guide-card[_ngcontent-%COMP%]   .guide-grid[_ngcontent-%COMP%]   .guide-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;color:#4d4d4d;font-size:.95rem}.guide-card[_ngcontent-%COMP%]   .gov-note[_ngcontent-%COMP%]{color:#8a8a8a;font-size:.9rem}.mobile-sheet-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);z-index:1040;display:none}.mobile-sheet[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:-100%;background:#fff;border-top-left-radius:16px;border-top-right-radius:16px;box-shadow:0 -4px 12px #0000001a;transition:all .3s ease-in-out;z-index:1050;padding:16px 20px}.mobile-sheet[_ngcontent-%COMP%]   .sheet-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mobile-sheet[_ngcontent-%COMP%]   .sheet-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:1rem}.mobile-sheet[_ngcontent-%COMP%]   .sheet-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem}.mobile-sheet[_ngcontent-%COMP%]   .sheet-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:10px}.mobile-sheet[_ngcontent-%COMP%]   .sheet-body[_ngcontent-%COMP%]   .sheet-action[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px;font-size:.95rem;border:none;background:#f8f8f8;border-radius:10px;margin-bottom:10px;text-align:left}.mobile-sheet.active[_ngcontent-%COMP%]{bottom:0}@media (max-width: 767.98px){.order-prescription[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column}.order-prescription[_ngcontent-%COMP%]   .guide-card[_ngcontent-%COMP%]{display:none}.mobile-sheet-backdrop[_ngcontent-%COMP%]{display:block}}"]})};export{k as OrderPrescription};
