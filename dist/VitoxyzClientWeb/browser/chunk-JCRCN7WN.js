import{a as V,b as T}from"./chunk-Y7CWA4UT.js";import"./chunk-BL54QTHF.js";import{A as E,b as L,f as R,j as B}from"./chunk-QPED7LSZ.js";import{h as P,i as O,o as k}from"./chunk-KSK4UUXF.js";import{Lb as p,Mb as s,Nb as r,Vb as u,Yb as g,_b as f,cb as l,cc as x,dc as w,ec as C,kc as y,ma as a,mc as d,na as c,ob as b,oc as M,qc as I,rc as S,sc as v,tb as h}from"./chunk-6LJ32Q7N.js";var F=["chatMessages"];function N(o,t){if(o&1&&(s(0,"div",9),d(1),r()),o&2){let e=t.$implicit;y("user-message",e.isUser)("bot-message",!e.isUser),l(),M(" ",e.text," ")}}function D(o,t){if(o&1){let e=u();s(0,"button",10),g("click",function(){a(e);let i=f();return c(i.toggleSpeechRecognition())}),s(1,"mat-icon"),d(2,"mic_none"),r()()}}function H(o,t){if(o&1){let e=u();s(0,"button",11),g("click",function(){a(e);let i=f();return c(i.sendMessage())}),s(1,"mat-icon"),d(2,"send"),r()()}}var U=class o{chatMessages;messages=[{text:"Hello! How can I assist you today?",isUser:!1}];userInput="";isListening=!1;recognition;constructor(){let t=window.SpeechRecognition||window.webkitSpeechRecognition;t&&(this.recognition=new t,this.recognition.continuous=!1,this.recognition.interimResults=!1,this.recognition.lang="en-US",this.recognition.onresult=e=>{let n=e.results[0][0].transcript;this.userInput=n,this.sendMessage()},this.recognition.onend=()=>{this.isListening=!1})}ngAfterViewInit(){this.scrollToBottom()}onInputChange(){}sendMessage(){this.userInput.trim()&&(this.messages.push({text:this.userInput,isUser:!0}),this.getBotResponse(this.userInput),this.userInput="",setTimeout(()=>this.scrollToBottom(),0))}toggleSpeechRecognition(){if(!this.recognition){this.messages.push({text:"Speech recognition is not supported in this browser.",isUser:!1});return}this.isListening?(this.recognition.stop(),this.isListening=!1):(this.isListening=!0,this.recognition.start())}getBotResponse(t){let e="I\u2019m here to help! Could you provide more details?";t.toLowerCase().includes("issue")||t.toLowerCase().includes("problem")?e="Sorry to hear you\u2019re having an issue. Please describe the problem in detail, and I\u2019ll guide you through troubleshooting.":t.toLowerCase().includes("hello")||t.toLowerCase().includes("hi")?e="Hi there! How can I assist you today?":t.toLowerCase().includes("account")&&(e="For account-related queries, please provide your account ID or email, and I\u2019ll check the status for you."),setTimeout(()=>{this.messages.push({text:e,isUser:!1}),this.scrollToBottom()},1e3)}scrollToBottom(){if(this.chatMessages){let t=this.chatMessages.nativeElement;t.scrollTop=t.scrollHeight}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-support"]],viewQuery:function(e,n){if(e&1&&x(F,5),e&2){let i;w(i=C())&&(n.chatMessages=i.first)}},decls:9,vars:4,consts:[["chatMessages",""],[1,"chatbot-container","container"],[1,"chat-messages","w-100"],["class","text-muted",3,"user-message","bot-message",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["type","text","placeholder","Type your message...",3,"ngModelChange","keyup.enter","ngModel"],["class","mic-button",3,"click",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],[1,"text-muted"],[1,"mic-button",3,"click"],[1,"send-button",3,"click"]],template:function(e,n){if(e&1){let i=u();s(0,"div",1)(1,"div",2,0),h(3,N,2,5,"div",3),r(),s(4,"div",4)(5,"div",5)(6,"input",6),v("ngModelChange",function(m){return a(i),S(n.userInput,m)||(n.userInput=m),c(m)}),g("ngModelChange",function(){return a(i),c(n.onInputChange())})("keyup.enter",function(){return a(i),c(n.sendMessage())}),r(),h(7,D,3,0,"button",7)(8,H,3,0,"button",8),r()()()}e&2&&(l(3),p("ngForOf",n.messages),l(3),I("ngModel",n.userInput),l(),p("ngIf",!n.userInput&&!n.isListening),l(),p("ngIf",n.userInput||n.isListening))},dependencies:[k,P,O,E,L,R,B,T,V],styles:[".chatbot-container[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;align-items:end;background-color:transparent;height:100vh}@media screen and (min-width: 992px){.chatbot-container[_ngcontent-%COMP%]{width:50%!important}}.chat-messages[_ngcontent-%COMP%]{flex:1;padding:10px;display:flex;flex-direction:column;gap:10px;overflow-y:auto;max-height:calc(100vh - 60px)}.user-message[_ngcontent-%COMP%], .bot-message[_ngcontent-%COMP%]{background-color:#fff;border:.5px solid #d2f6f7;color:#333;padding:8px 15px;margin:5px 10px;max-width:80%;display:inline-block;word-wrap:break-word}.user-message[_ngcontent-%COMP%]{align-self:flex-end;border-radius:8px 8px 0;background:#dcefef!important}.bot-message[_ngcontent-%COMP%]{align-self:flex-start;border-radius:8px 8px 8px 0}.chat-input[_ngcontent-%COMP%]{padding:10px;display:flex;background-color:transparent;position:sticky;bottom:0;width:100%}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}input[_ngcontent-%COMP%]{flex:1;padding:8px 40px 8px 15px;border:.5px solid #0BBBC1;border-radius:20px;background-color:#fff;outline:none}.mic-button[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]{position:absolute;right:5px;background-color:transparent;border:none;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.mic-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0bbbc1;font-size:20px;width:20px;height:20px}.send-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover, .mic-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{color:#0bbbc1}.mic-button[_ngcontent-%COMP%]:disabled   mat-icon[_ngcontent-%COMP%]{color:#0bbbc1;cursor:not-allowed}"]})};export{U as Support};
