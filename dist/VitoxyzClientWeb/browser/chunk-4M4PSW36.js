import{a as de}from"./chunk-2JACWAI2.js";import{a as X,b as Y,c as Z,e as ee,f as te,h as re}from"./chunk-CYZ2KIHM.js";import{a as ie,b as ne,d as oe,g as ae,h as le,k as me,l as se}from"./chunk-B7QQOXHP.js";import{b as T,c as O,f as k}from"./chunk-TVU2BKOJ.js";import"./chunk-2NAO3EIO.js";import{k as A,m as V,n as B}from"./chunk-IZKFKTYO.js";import{b as I,c as q,e as U,g as H,h as G}from"./chunk-OM6CVLGN.js";import"./chunk-3FIC4GM2.js";import{B as Q,D as W,b as L,d as m,g as R,h as j,m as D,n as z,o as $,r as J,x as K}from"./chunk-7H6Y33SG.js";import{$ as y,Fb as S,Fc as x,Hc as N,Sa as o,Ub as n,Vb as P,Xa as F,cb as M,gb as u,qb as v,wb as l,xb as r,yb as t,zb as c}from"./chunk-RMNDDDX3.js";function ue(i,a){i&1&&(r(0,"mat-error"),n(1," Full Name is required. "),t())}function ce(i,a){i&1&&(r(0,"mat-error"),n(1," Please enter a valid email. "),t())}function fe(i,a){i&1&&(r(0,"mat-error"),n(1," Phone number is required. "),t())}function ge(i,a){i&1&&(r(0,"mat-error"),n(1," Address is required. "),t())}function _e(i,a){i&1&&(r(0,"mat-error"),n(1," City is required. "),t())}function he(i,a){i&1&&(r(0,"mat-error"),n(1," Pin code is required. "),t())}function be(i,a){i&1&&(r(0,"mat-error"),n(1," Password is required. "),t())}function we(i,a){i&1&&(r(0,"mat-error"),n(1," Password must be at least 6 characters. "),t())}function Ce(i,a){i&1&&(r(0,"mat-error"),n(1," Confirm Password is required. "),t())}function Se(i,a){i&1&&(r(0,"mat-error"),n(1," Passwords do not match. "),t())}var ye=i=>{let a=i.get("password"),d=i.get("confirmPassword");return!a||!d?null:a.value!==d.value?{passwordMismatch:!0}:null},pe=class i{constructor(a){this.fb=a}signupForm;hidePassword=!0;hideConfirmPassword=!0;router=y(T);http=y(q);ngOnInit(){this.signupForm=this.fb.group({userName:["",m.required],email:["",[m.required,m.email]],phoneNumber:["",m.required],address:["",m.required],city:["",m.required],pinCode:["",[m.required,m.pattern("^[0-9]{6}$")]],password:["",[m.required,m.minLength(6)]],confirmPassword:["",m.required]},{validators:ye})}onSubmit(){if(this.signupForm.invalid){this.signupForm.markAllAsTouched();let s=this.signupForm.get("confirmPassword");s?.hasError("passwordMismatch")&&s.setErrors({passwordMismatch:!0}),console.log("\u274C Form is invalid.");return}let{userName:a,email:d,phoneNumber:e,address:p,city:f,pinCode:g,password:_,confirmPassword:h}=this.signupForm.value,b={userName:a,email:d,phoneNumber:e,password:_,confirmPassword:h,address:p,city:f,pinCode:Number(g)};this.http.post(`${de.apiBaseUrl}api/user/singup`,b,{headers:new I({"Content-Type":"application/json"}),withCredentials:!0}).subscribe({next:s=>{console.log("\u2705 Signup successful:",s),alert("Signup successful! Now redirecting..."),this.router.navigate(["/login"])},error:s=>{console.error("\u274C Signup failed:",s),alert("Signup failed. Please try again.")}})}static \u0275fac=function(d){return new(d||i)(F(Q))};static \u0275cmp=M({type:i,selectors:[["app-sign-up"]],decls:62,vars:20,consts:[[1,"signup-container"],[1,"signup-card"],[1,"signup-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Enter your full name","formControlName","userName","required",""],[4,"ngIf"],["matInput","","placeholder","Enter your email","formControlName","email","required",""],["matInput","","placeholder","Enter your phone number","formControlName","phoneNumber","required",""],["matInput","","placeholder","Enter your address","formControlName","address","required",""],["matInput","","placeholder","Enter your city","formControlName","city","required",""],["matInput","","placeholder","Enter your pin code","formControlName","pinCode","required","","type","number"],["matInput","","placeholder","Enter your password","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","placeholder","Confirm your password","formControlName","confirmPassword","required","",3,"type"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"signup-actions"],["mat-button","","routerLink","/login"]],template:function(d,e){if(d&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),n(4,"Sign Up"),t()(),r(5,"mat-card-content")(6,"form",2),S("ngSubmit",function(){return e.onSubmit()}),r(7,"mat-form-field",3)(8,"mat-label"),n(9,"Full Name"),t(),c(10,"input",4),u(11,ue,2,0,"mat-error",5),t(),r(12,"mat-form-field",3)(13,"mat-label"),n(14,"Email"),t(),c(15,"input",6),u(16,ce,2,0,"mat-error",5),t(),r(17,"mat-form-field",3)(18,"mat-label"),n(19,"Phone Number"),t(),c(20,"input",7),u(21,fe,2,0,"mat-error",5),t(),r(22,"mat-form-field",3)(23,"mat-label"),n(24,"Address"),t(),c(25,"input",8),u(26,ge,2,0,"mat-error",5),t(),r(27,"mat-form-field",3)(28,"mat-label"),n(29,"City"),t(),c(30,"input",9),u(31,_e,2,0,"mat-error",5),t(),r(32,"mat-form-field",3)(33,"mat-label"),n(34,"Pin Code"),t(),c(35,"input",10),u(36,he,2,0,"mat-error",5),t(),r(37,"mat-form-field",3)(38,"mat-label"),n(39,"Password"),t(),c(40,"input",11),r(41,"button",12),S("click",function(){return e.hidePassword=!e.hidePassword}),r(42,"mat-icon"),n(43),t()(),u(44,be,2,0,"mat-error",5)(45,we,2,0,"mat-error",5),t(),r(46,"mat-form-field",3)(47,"mat-label"),n(48,"Confirm Password"),t(),c(49,"input",13),r(50,"button",12),S("click",function(){return e.hideConfirmPassword=!e.hideConfirmPassword}),r(51,"mat-icon"),n(52),t()(),u(53,Ce,2,0,"mat-error",5)(54,Se,2,0,"mat-error",5),t(),r(55,"button",14),n(56," Sign Up "),t()()(),r(57,"mat-card-actions",15)(58,"span"),n(59,"Already have an account?"),t(),r(60,"button",16),n(61,"Login"),t()()()()),d&2){let p,f,g,_,h,b,s,w,C,E;o(6),l("formGroup",e.signupForm),o(5),l("ngIf",((p=e.signupForm.get("userName"))==null?null:p.invalid)&&((p=e.signupForm.get("userName"))==null?null:p.touched)),o(5),l("ngIf",((f=e.signupForm.get("email"))==null?null:f.invalid)&&((f=e.signupForm.get("email"))==null?null:f.touched)),o(5),l("ngIf",((g=e.signupForm.get("phoneNumber"))==null?null:g.invalid)&&((g=e.signupForm.get("phoneNumber"))==null?null:g.touched)),o(5),l("ngIf",((_=e.signupForm.get("address"))==null?null:_.invalid)&&((_=e.signupForm.get("address"))==null?null:_.touched)),o(5),l("ngIf",((h=e.signupForm.get("city"))==null?null:h.invalid)&&((h=e.signupForm.get("city"))==null?null:h.touched)),o(5),l("ngIf",((b=e.signupForm.get("pinCode"))==null?null:b.invalid)&&((b=e.signupForm.get("pinCode"))==null?null:b.touched)),o(4),l("type",e.hidePassword?"password":"text"),o(),v("aria-label","Hide password")("aria-pressed",e.hidePassword),o(2),P(e.hidePassword?"visibility_off":"visibility"),o(),l("ngIf",((s=e.signupForm.get("password"))==null?null:s.hasError("required"))&&((s=e.signupForm.get("password"))==null?null:s.touched)),o(),l("ngIf",((w=e.signupForm.get("password"))==null?null:w.hasError("minlength"))&&((w=e.signupForm.get("password"))==null?null:w.touched)),o(4),l("type",e.hideConfirmPassword?"password":"text"),o(),v("aria-label","Hide confirm password")("aria-pressed",e.hideConfirmPassword),o(2),P(e.hideConfirmPassword?"visibility_off":"visibility"),o(),l("ngIf",((C=e.signupForm.get("confirmPassword"))==null?null:C.hasError("required"))&&((C=e.signupForm.get("confirmPassword"))==null?null:C.touched)),o(),l("ngIf",e.signupForm.hasError("passwordMismatch")&&((E=e.signupForm.get("confirmPassword"))==null?null:E.touched)),o(),l("disabled",e.signupForm.invalid)}},dependencies:[N,x,W,D,L,z,R,j,K,$,J,U,k,O,re,X,ee,Z,te,Y,se,me,ae,ie,ne,oe,B,V,A,G,H,le],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f0f2f5}.signup-card[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:8px}.signup-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:24px;font-weight:500;color:#3f51b5}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;margin-top:20px}mat-card-actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px;font-size:14px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}button[type=submit][_ngcontent-%COMP%]{margin-top:20px}"]})};export{pe as SignUp,ye as passwordMatchValidator};
