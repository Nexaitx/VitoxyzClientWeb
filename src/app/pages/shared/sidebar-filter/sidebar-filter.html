<div>

    <div class="mobile-filter-bar d-block d-md-none">
        <button class="text-white btn" (click)="toggleFilterPanel()">
           All Filters <i class="fi fi-rr-settings-sliders"></i>
        </button>
    </div>

    <div class="sidebar d-none d-md-block" [class.sidebar-disabled]="disabled">
        <div class="section">
            <h3 class="section-title">Filter by Category</h3>
            <ul class="category-list">
                <li *ngFor="let category of categories" (click)="onCategoryClick(category.value)"
                    [class.disabled-item]="disabled" [class.clickable-item]="!disabled">
                    {{ category.label }}
                    <span *ngIf="disabled" class="loading-indicator">⟳</span>
                </li>
            </ul>
        </div>

        <div class="section">
            <h3 class="section-title">Filter by Brand</h3>
            <input type="text" placeholder="Search Brands" class="search-box" [disabled]="disabled" />
            <div class="brand-list">
                <div *ngFor="let brand of brands" class="brand-item">
                    <input type="checkbox" [id]="'brand-desk-' + brand.name" [disabled]="disabled"
                        (change)="onBrandToggle(brand.name, $event)" />
                    <label [for]="'brand-desk-' + brand.name" [class.disabled-label]="disabled">
                        {{ brand.name }}
                        <span class="brand-count">({{ brand.count }})</span>
                        <span *ngIf="disabled" class="loading-indicator">⟳</span>
                    </label>
                </div>
            </div>
        </div>

        <div *ngIf="disabled" class="loading-overlay">
            <div class="loading-spinner"></div>
            <span>Loading...</span>
        </div>
    </div>

    <div class="mobile-filter-panel" [class.open]="isFilterPanelOpen">
        <div class="mobile-filter-overlay" (click)="closeFilterPanel()"></div>

        <div class="panel-content">
            <div class="panel-header">
                <button class="close-btn text-primary bg-none ms-auto" (click)="closeFilterPanel()">✕</button>
            </div>

            <div class="panel-filters-body">
                <div class="section">
                    <h3 class="section-title">Filter by Category</h3>
                    <ul class="category-list ps-2" type="none">
                        <li *ngFor="let category of categories" (click)="onCategoryClick(category.value)"
                            [class.disabled-item]="disabled" [class.clickable-item]="!disabled" class="py-2">
                            {{ category.label }}
                            <span *ngIf="disabled" class="loading-indicator">⟳</span>
                        </li>
                    </ul>
                </div>
                <div class="section">
                    <h3 class="section-title">Filter by Brand</h3>
                    <div class="brand-list">
                        <div *ngFor="let brand of brands" class="brand-item py-2">
                            <input type="checkbox" [id]="'brand-desk-' + brand.name" [disabled]="disabled"
                                (change)="onBrandToggle(brand.name, $event)" />
                            <label [for]="'brand-desk-' + brand.name" class="ps-2" [class.disabled-label]="disabled">
                                {{ brand.name }}
                                <span class="brand-count">({{ brand.count }})</span>
                                <span *ngIf="disabled" class="loading-indicator">⟳</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel-actions">
                <button class="apply-btn" (click)="closeFilterPanel()">Apply Filters</button>
            </div>
        </div>
    </div>
</div>